{"ast":null,"code":"var _jsxFileName = \"/home/boltuzamaki/Downloads/airtable-form-builder/frontend/src/pages/FormBuilder.js\",\n  _s = $RefreshSig$();\nimport { AlertCircle, ArrowLeft, ArrowRight, Check, Columns, Database, Loader2, Table } from 'lucide-react';\nimport { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport LoadingSpinner from '../components/UI/LoadingSpinner';\nimport { useForm } from '../contexts/FormContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FormBuilder = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    bases,\n    tables,\n    fields,\n    loading,\n    getBases,\n    getTables,\n    getFields,\n    createForm,\n    testAirtableConnection\n  } = useForm();\n  const [currentStep, setCurrentStep] = useState(0);\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    selectedBase: null,\n    selectedTable: null,\n    selectedFields: [],\n    settings: {\n      allowMultipleSubmissions: true,\n      showProgressBar: true,\n      submitButtonText: 'Submit',\n      successMessage: 'Thank you for your submission!'\n    }\n  });\n  const steps = [{\n    id: 'connection',\n    title: 'Test Connection',\n    icon: Database\n  }, {\n    id: 'base',\n    title: 'Select Base',\n    icon: Database\n  }, {\n    id: 'table',\n    title: 'Select Table',\n    icon: Table\n  }, {\n    id: 'fields',\n    title: 'Configure Fields',\n    icon: Columns\n  }, {\n    id: 'settings',\n    title: 'Form Settings',\n    icon: Check\n  }];\n  useEffect(() => {\n    if (currentStep === 0) {\n      testConnection();\n    }\n  }, [currentStep]);\n  const testConnection = async () => {\n    try {\n      await testAirtableConnection();\n      // Auto-advance to next step after successful connection\n      setTimeout(() => {\n        setCurrentStep(1);\n        loadBases();\n      }, 1000);\n    } catch (error) {\n      toast.error('Please check your Airtable connection and try again.');\n    }\n  };\n  const loadBases = async () => {\n    try {\n      await getBases();\n    } catch (error) {\n      toast.error('Failed to load Airtable bases');\n    }\n  };\n  const handleBaseSelect = async base => {\n    setFormData(prev => ({\n      ...prev,\n      selectedBase: base,\n      selectedTable: null,\n      selectedFields: []\n    }));\n    try {\n      await getTables(base.id);\n      setCurrentStep(2);\n    } catch (error) {\n      toast.error('Failed to load tables');\n    }\n  };\n  const handleTableSelect = async table => {\n    setFormData(prev => ({\n      ...prev,\n      selectedTable: table,\n      selectedFields: []\n    }));\n    try {\n      const response = await getFields(formData.selectedBase.id, table.id);\n      setCurrentStep(3);\n    } catch (error) {\n      toast.error('Failed to load fields');\n    }\n  };\n  const handleFieldToggle = field => {\n    setFormData(prev => {\n      const selectedFields = prev.selectedFields.find(f => f.id === field.id) ? prev.selectedFields.filter(f => f.id !== field.id) : [...prev.selectedFields, {\n        ...field,\n        label: field.name,\n        required: false,\n        order: prev.selectedFields.length\n      }];\n      return {\n        ...prev,\n        selectedFields\n      };\n    });\n  };\n  const handleFieldUpdate = (fieldId, updates) => {\n    setFormData(prev => ({\n      ...prev,\n      selectedFields: prev.selectedFields.map(field => field.id === fieldId ? {\n        ...field,\n        ...updates\n      } : field)\n    }));\n  };\n  const handleCreateForm = async () => {\n    if (!formData.title.trim()) {\n      toast.error('Please enter a form title');\n      return;\n    }\n    if (formData.selectedFields.length === 0) {\n      toast.error('Please select at least one field');\n      return;\n    }\n    try {\n      const formPayload = {\n        title: formData.title,\n        description: formData.description,\n        airtableBaseId: formData.selectedBase.id,\n        airtableBaseName: formData.selectedBase.name,\n        airtableTableId: formData.selectedTable.id,\n        airtableTableName: formData.selectedTable.name,\n        fields: formData.selectedFields.map(field => ({\n          airtableFieldId: field.id,\n          airtableFieldName: field.name,\n          airtableFieldType: field.type,\n          label: field.label,\n          required: field.required,\n          options: field.options,\n          order: field.order\n        })),\n        settings: formData.settings\n      };\n      const newForm = await createForm(formPayload);\n      navigate(`/forms/${newForm._id}/edit`);\n    } catch (error) {\n      console.error('Failed to create form:', error);\n    }\n  };\n  const canProceed = () => {\n    switch (currentStep) {\n      case 0:\n        return false;\n      // Connection test handles auto-advance\n      case 1:\n        return formData.selectedBase !== null;\n      case 2:\n        return formData.selectedTable !== null;\n      case 3:\n        return formData.selectedFields.length > 0;\n      case 4:\n        return formData.title.trim() !== '';\n      default:\n        return false;\n    }\n  };\n  const renderStepContent = () => {\n    switch (currentStep) {\n      case 0:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-12\",\n          children: [/*#__PURE__*/_jsxDEV(Database, {\n            className: \"mx-auto h-12 w-12 text-primary-600 mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-gray-900 mb-2\",\n            children: \"Testing Airtable Connection\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500 mb-6\",\n            children: \"Verifying your Airtable access and permissions...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n            size: \"lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this);\n      case 1:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(Database, {\n              className: \"mx-auto h-12 w-12 text-primary-600 mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-900 mb-2\",\n              children: \"Select Airtable Base\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500\",\n              children: \"Choose the Airtable base you want to connect your form to\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center py-8\",\n            children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n              size: \"lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: bases.map(base => {\n              var _formData$selectedBas, _formData$selectedBas2;\n              return /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleBaseSelect(base),\n                className: `p-4 border-2 rounded-lg text-left transition-colors ${((_formData$selectedBas = formData.selectedBase) === null || _formData$selectedBas === void 0 ? void 0 : _formData$selectedBas.id) === base.id ? 'border-primary-500 bg-primary-50' : 'border-gray-200 hover:border-gray-300'}`,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"font-medium text-gray-900\",\n                      children: base.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 235,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-500 mt-1\",\n                      children: [\"Permission: \", base.permissionLevel]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 236,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 234,\n                    columnNumber: 23\n                  }, this), ((_formData$selectedBas2 = formData.selectedBase) === null || _formData$selectedBas2 === void 0 ? void 0 : _formData$selectedBas2.id) === base.id && /*#__PURE__*/_jsxDEV(Check, {\n                    className: \"h-5 w-5 text-primary-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 21\n                }, this)\n              }, base.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this);\n      case 2:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(Table, {\n              className: \"mx-auto h-12 w-12 text-primary-600 mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-900 mb-2\",\n              children: \"Select Table\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500\",\n              children: \"Choose the table where form responses will be stored\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center py-8\",\n            children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n              size: \"lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: tables.map(table => {\n              var _formData$selectedTab, _formData$selectedTab2;\n              return /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleTableSelect(table),\n                className: `w-full p-4 border-2 rounded-lg text-left transition-colors ${((_formData$selectedTab = formData.selectedTable) === null || _formData$selectedTab === void 0 ? void 0 : _formData$selectedTab.id) === table.id ? 'border-primary-500 bg-primary-50' : 'border-gray-200 hover:border-gray-300'}`,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"font-medium text-gray-900\",\n                      children: table.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 282,\n                      columnNumber: 25\n                    }, this), table.description && /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-500 mt-1\",\n                      children: table.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 284,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs text-gray-400 mt-2\",\n                      children: [table.fields.length, \" fields available\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 286,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 23\n                  }, this), ((_formData$selectedTab2 = formData.selectedTable) === null || _formData$selectedTab2 === void 0 ? void 0 : _formData$selectedTab2.id) === table.id && /*#__PURE__*/_jsxDEV(Check, {\n                    className: \"h-5 w-5 text-primary-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 291,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 21\n                }, this)\n              }, table.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this);\n      case 3:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(Columns, {\n              className: \"mx-auto h-12 w-12 text-primary-600 mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-900 mb-2\",\n              children: \"Configure Form Fields\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500\",\n              children: \"Select which fields to include in your form and customize their settings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: fields.map(field => {\n              const isSelected = formData.selectedFields.find(f => f.id === field.id);\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `border-2 rounded-lg p-4 transition-colors ${isSelected ? 'border-primary-500 bg-primary-50' : 'border-gray-200'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"checkbox\",\n                      checked: !!isSelected,\n                      onChange: () => handleFieldToggle(field),\n                      className: \"h-4 w-4 text-primary-600 rounded border-gray-300 focus:ring-primary-500\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 327,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ml-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"font-medium text-gray-900\",\n                        children: field.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 334,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-sm text-gray-500\",\n                        children: field.type\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 335,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 333,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `badge ${isSelected ? 'badge-primary' : 'badge-gray'}`,\n                    children: field.type\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 338,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 21\n                }, this), isSelected && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-3 pt-3 border-t border-gray-200\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"label\",\n                      children: \"Field Label\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 346,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      className: \"input\",\n                      value: isSelected.label,\n                      onChange: e => handleFieldUpdate(field.id, {\n                        label: e.target.value\n                      }),\n                      placeholder: \"Enter field label\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 349,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 345,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"checkbox\",\n                      checked: isSelected.required,\n                      onChange: e => handleFieldUpdate(field.id, {\n                        required: e.target.checked\n                      }),\n                      className: \"h-4 w-4 text-primary-600 rounded border-gray-300 focus:ring-primary-500\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 359,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"ml-2 text-sm text-gray-700\",\n                      children: \"Required field\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 365,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 358,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 23\n                }, this)]\n              }, field.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this), formData.selectedFields.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-8\",\n            children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n              className: \"mx-auto h-8 w-8 text-gray-400 mb-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500\",\n              children: \"Select at least one field to continue\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this);\n      case 4:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(Check, {\n              className: \"mx-auto h-12 w-12 text-primary-600 mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-900 mb-2\",\n              children: \"Form Settings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500\",\n              children: \"Configure your form details and behavior\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label label-required\",\n                children: \"Form Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"input\",\n                value: formData.title,\n                onChange: e => setFormData(prev => ({\n                  ...prev,\n                  title: e.target.value\n                })),\n                placeholder: \"Enter form title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label\",\n                children: \"Description (Optional)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                className: \"textarea\",\n                value: formData.description,\n                onChange: e => setFormData(prev => ({\n                  ...prev,\n                  description: e.target.value\n                })),\n                placeholder: \"Describe what this form is for...\",\n                rows: 3\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-t border-gray-200 pt-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-lg font-medium text-gray-900 mb-4\",\n                children: \"Form Behavior\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"text-sm font-medium text-gray-700\",\n                      children: \"Allow Multiple Submissions\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 431,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-500\",\n                      children: \"Allow users to submit the form multiple times\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 434,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 430,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: formData.settings.allowMultipleSubmissions,\n                    onChange: e => setFormData(prev => ({\n                      ...prev,\n                      settings: {\n                        ...prev.settings,\n                        allowMultipleSubmissions: e.target.checked\n                      }\n                    })),\n                    className: \"h-4 w-4 text-primary-600 rounded border-gray-300 focus:ring-primary-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 438,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 429,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"text-sm font-medium text-gray-700\",\n                      children: \"Show Progress Bar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 451,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-500\",\n                      children: \"Display progress indicator for multi-step forms\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 454,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 450,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: formData.settings.showProgressBar,\n                    onChange: e => setFormData(prev => ({\n                      ...prev,\n                      settings: {\n                        ...prev.settings,\n                        showProgressBar: e.target.checked\n                      }\n                    })),\n                    className: \"h-4 w-4 text-primary-600 rounded border-gray-300 focus:ring-primary-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 458,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 449,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-t border-gray-200 pt-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-lg font-medium text-gray-900 mb-4\",\n                children: \"Customization\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"label\",\n                    children: \"Submit Button Text\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 476,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"input\",\n                    value: formData.settings.submitButtonText,\n                    onChange: e => setFormData(prev => ({\n                      ...prev,\n                      settings: {\n                        ...prev.settings,\n                        submitButtonText: e.target.value\n                      }\n                    })),\n                    placeholder: \"Submit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 479,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 475,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"label\",\n                    children: \"Success Message\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 492,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    className: \"textarea\",\n                    value: formData.settings.successMessage,\n                    onChange: e => setFormData(prev => ({\n                      ...prev,\n                      settings: {\n                        ...prev.settings,\n                        successMessage: e.target.value\n                      }\n                    })),\n                    placeholder: \"Thank you for your submission!\",\n                    rows: 2\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 495,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 491,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-t border-gray-200 pt-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-lg font-medium text-gray-900 mb-4\",\n                children: \"Preview\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 511,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-50 rounded-lg p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"font-medium text-gray-900 mb-2\",\n                  children: formData.title || 'Untitled Form'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 513,\n                  columnNumber: 19\n                }, this), formData.description && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-600 mb-4\",\n                  children: formData.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 515,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-3\",\n                  children: [formData.selectedFields.slice(0, 3).map((field, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm font-medium text-gray-700 mb-1\",\n                      children: [field.label, field.required && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-red-500 ml-1\",\n                        children: \"*\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 522,\n                        columnNumber: 46\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 520,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"h-8 bg-white border border-gray-300 rounded-md\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 524,\n                      columnNumber: 25\n                    }, this)]\n                  }, field.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 519,\n                    columnNumber: 23\n                  }, this)), formData.selectedFields.length > 3 && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-500 italic\",\n                    children: [\"... and \", formData.selectedFields.length - 3, \" more fields\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 528,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 517,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }, this);\n      default:\n        return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-8\",\n      children: /*#__PURE__*/_jsxDEV(\"nav\", {\n        \"aria-label\": \"Progress\",\n        children: /*#__PURE__*/_jsxDEV(\"ol\", {\n          className: \"flex items-center\",\n          children: steps.map((step, index) => {\n            const Icon = step.icon;\n            const isCompleted = index < currentStep;\n            const isCurrent = index === currentStep;\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              className: `relative ${index !== steps.length - 1 ? 'pr-8 sm:pr-20' : ''}`,\n              children: [index !== steps.length - 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute inset-0 flex items-center\",\n                \"aria-hidden\": \"true\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `h-0.5 w-full ${isCompleted ? 'bg-primary-600' : 'bg-gray-200'}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 559,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 558,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative flex items-center justify-center\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `flex h-10 w-10 items-center justify-center rounded-full border-2 ${isCompleted ? 'border-primary-600 bg-primary-600' : isCurrent ? 'border-primary-600 bg-white' : 'border-gray-300 bg-white'}`,\n                  children: isCompleted ? /*#__PURE__*/_jsxDEV(Check, {\n                    className: \"h-6 w-6 text-white\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 574,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(Icon, {\n                    className: `h-6 w-6 ${isCurrent ? 'text-primary-600' : 'text-gray-500'}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 576,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 564,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 563,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-2 text-center\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: `text-sm font-medium ${isCurrent ? 'text-primary-600' : 'text-gray-500'}`,\n                  children: step.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 582,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 581,\n                columnNumber: 19\n              }, this)]\n            }, step.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 547,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body min-h-[500px]\",\n        children: renderStepContent()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 595,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-footer\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCurrentStep(prev => Math.max(0, prev - 1)),\n            disabled: currentStep === 0,\n            className: \"btn btn-secondary disabled:opacity-50 disabled:cursor-not-allowed\",\n            children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n              className: \"h-4 w-4 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 607,\n              columnNumber: 15\n            }, this), \"Previous\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 602,\n            columnNumber: 13\n          }, this), currentStep === steps.length - 1 ? /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCreateForm,\n            disabled: !canProceed() || loading,\n            className: \"btn btn-primary disabled:opacity-50 disabled:cursor-not-allowed\",\n            children: [loading ? /*#__PURE__*/_jsxDEV(Loader2, {\n              className: \"h-4 w-4 mr-2 animate-spin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 618,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(Check, {\n              className: \"h-4 w-4 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 620,\n              columnNumber: 19\n            }, this), \"Create Form\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 612,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCurrentStep(prev => prev + 1),\n            disabled: !canProceed(),\n            className: \"btn btn-primary disabled:opacity-50 disabled:cursor-not-allowed\",\n            children: [\"Next\", /*#__PURE__*/_jsxDEV(ArrowRight, {\n              className: \"h-4 w-4 ml-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 631,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 625,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 600,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 594,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 545,\n    columnNumber: 5\n  }, this);\n};\n_s(FormBuilder, \"Wr/uJ8J1f/r7wVMihe62AaCFx3k=\", false, function () {\n  return [useNavigate, useForm];\n});\n_c = FormBuilder;\nexport default FormBuilder;\nvar _c;\n$RefreshReg$(_c, \"FormBuilder\");","map":{"version":3,"names":["AlertCircle","ArrowLeft","ArrowRight","Check","Columns","Database","Loader2","Table","useEffect","useState","useNavigate","toast","LoadingSpinner","useForm","jsxDEV","_jsxDEV","FormBuilder","_s","navigate","bases","tables","fields","loading","getBases","getTables","getFields","createForm","testAirtableConnection","currentStep","setCurrentStep","formData","setFormData","title","description","selectedBase","selectedTable","selectedFields","settings","allowMultipleSubmissions","showProgressBar","submitButtonText","successMessage","steps","id","icon","testConnection","setTimeout","loadBases","error","handleBaseSelect","base","prev","handleTableSelect","table","response","handleFieldToggle","field","find","f","filter","label","name","required","order","length","handleFieldUpdate","fieldId","updates","map","handleCreateForm","trim","formPayload","airtableBaseId","airtableBaseName","airtableTableId","airtableTableName","airtableFieldId","airtableFieldName","airtableFieldType","type","options","newForm","_id","console","canProceed","renderStepContent","className","children","fileName","_jsxFileName","lineNumber","columnNumber","size","_formData$selectedBas","_formData$selectedBas2","onClick","permissionLevel","_formData$selectedTab","_formData$selectedTab2","isSelected","checked","onChange","value","e","target","placeholder","rows","slice","index","step","Icon","isCompleted","isCurrent","Math","max","disabled","_c","$RefreshReg$"],"sources":["/home/boltuzamaki/Downloads/airtable-form-builder/frontend/src/pages/FormBuilder.js"],"sourcesContent":["import {\n    AlertCircle,\n    ArrowLeft,\n    ArrowRight,\n    Check,\n    Columns,\n    Database,\n    Loader2,\n    Table\n} from 'lucide-react';\nimport { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport LoadingSpinner from '../components/UI/LoadingSpinner';\nimport { useForm } from '../contexts/FormContext';\n\nconst FormBuilder = () => {\n  const navigate = useNavigate();\n  const { \n    bases, \n    tables, \n    fields, \n    loading, \n    getBases, \n    getTables, \n    getFields, \n    createForm,\n    testAirtableConnection \n  } = useForm();\n\n  const [currentStep, setCurrentStep] = useState(0);\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    selectedBase: null,\n    selectedTable: null,\n    selectedFields: [],\n    settings: {\n      allowMultipleSubmissions: true,\n      showProgressBar: true,\n      submitButtonText: 'Submit',\n      successMessage: 'Thank you for your submission!'\n    }\n  });\n\n  const steps = [\n    { id: 'connection', title: 'Test Connection', icon: Database },\n    { id: 'base', title: 'Select Base', icon: Database },\n    { id: 'table', title: 'Select Table', icon: Table },\n    { id: 'fields', title: 'Configure Fields', icon: Columns },\n    { id: 'settings', title: 'Form Settings', icon: Check }\n  ];\n\n  useEffect(() => {\n    if (currentStep === 0) {\n      testConnection();\n    }\n  }, [currentStep]);\n\n  const testConnection = async () => {\n    try {\n      await testAirtableConnection();\n      // Auto-advance to next step after successful connection\n      setTimeout(() => {\n        setCurrentStep(1);\n        loadBases();\n      }, 1000);\n    } catch (error) {\n      toast.error('Please check your Airtable connection and try again.');\n    }\n  };\n\n  const loadBases = async () => {\n    try {\n      await getBases();\n    } catch (error) {\n      toast.error('Failed to load Airtable bases');\n    }\n  };\n\n  const handleBaseSelect = async (base) => {\n    setFormData(prev => ({\n      ...prev,\n      selectedBase: base,\n      selectedTable: null,\n      selectedFields: []\n    }));\n    \n    try {\n      await getTables(base.id);\n      setCurrentStep(2);\n    } catch (error) {\n      toast.error('Failed to load tables');\n    }\n  };\n\n  const handleTableSelect = async (table) => {\n    setFormData(prev => ({\n      ...prev,\n      selectedTable: table,\n      selectedFields: []\n    }));\n    \n    try {\n      const response = await getFields(formData.selectedBase.id, table.id);\n      setCurrentStep(3);\n    } catch (error) {\n      toast.error('Failed to load fields');\n    }\n  };\n\n  const handleFieldToggle = (field) => {\n    setFormData(prev => {\n      const selectedFields = prev.selectedFields.find(f => f.id === field.id)\n        ? prev.selectedFields.filter(f => f.id !== field.id)\n        : [\n            ...prev.selectedFields,\n            {\n              ...field,\n              label: field.name,\n              required: false,\n              order: prev.selectedFields.length\n            }\n          ];\n      \n      return { ...prev, selectedFields };\n    });\n  };\n\n  const handleFieldUpdate = (fieldId, updates) => {\n    setFormData(prev => ({\n      ...prev,\n      selectedFields: prev.selectedFields.map(field =>\n        field.id === fieldId ? { ...field, ...updates } : field\n      )\n    }));\n  };\n\n  const handleCreateForm = async () => {\n    if (!formData.title.trim()) {\n      toast.error('Please enter a form title');\n      return;\n    }\n\n    if (formData.selectedFields.length === 0) {\n      toast.error('Please select at least one field');\n      return;\n    }\n\n    try {\n      const formPayload = {\n        title: formData.title,\n        description: formData.description,\n        airtableBaseId: formData.selectedBase.id,\n        airtableBaseName: formData.selectedBase.name,\n        airtableTableId: formData.selectedTable.id,\n        airtableTableName: formData.selectedTable.name,\n        fields: formData.selectedFields.map(field => ({\n          airtableFieldId: field.id,\n          airtableFieldName: field.name,\n          airtableFieldType: field.type,\n          label: field.label,\n          required: field.required,\n          options: field.options,\n          order: field.order\n        })),\n        settings: formData.settings\n      };\n\n      const newForm = await createForm(formPayload);\n      navigate(`/forms/${newForm._id}/edit`);\n    } catch (error) {\n      console.error('Failed to create form:', error);\n    }\n  };\n\n  const canProceed = () => {\n    switch (currentStep) {\n      case 0: return false; // Connection test handles auto-advance\n      case 1: return formData.selectedBase !== null;\n      case 2: return formData.selectedTable !== null;\n      case 3: return formData.selectedFields.length > 0;\n      case 4: return formData.title.trim() !== '';\n      default: return false;\n    }\n  };\n\n  const renderStepContent = () => {\n    switch (currentStep) {\n      case 0:\n        return (\n          <div className=\"text-center py-12\">\n            <Database className=\"mx-auto h-12 w-12 text-primary-600 mb-4\" />\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n              Testing Airtable Connection\n            </h3>\n            <p className=\"text-gray-500 mb-6\">\n              Verifying your Airtable access and permissions...\n            </p>\n            <LoadingSpinner size=\"lg\" />\n          </div>\n        );\n\n      case 1:\n        return (\n          <div>\n            <div className=\"text-center mb-8\">\n              <Database className=\"mx-auto h-12 w-12 text-primary-600 mb-4\" />\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n                Select Airtable Base\n              </h3>\n              <p className=\"text-gray-500\">\n                Choose the Airtable base you want to connect your form to\n              </p>\n            </div>\n\n            {loading ? (\n              <div className=\"flex justify-center py-8\">\n                <LoadingSpinner size=\"lg\" />\n              </div>\n            ) : (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {bases.map((base) => (\n                  <button\n                    key={base.id}\n                    onClick={() => handleBaseSelect(base)}\n                    className={`p-4 border-2 rounded-lg text-left transition-colors ${\n                      formData.selectedBase?.id === base.id\n                        ? 'border-primary-500 bg-primary-50'\n                        : 'border-gray-200 hover:border-gray-300'\n                    }`}\n                  >\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <h4 className=\"font-medium text-gray-900\">{base.name}</h4>\n                        <p className=\"text-sm text-gray-500 mt-1\">\n                          Permission: {base.permissionLevel}\n                        </p>\n                      </div>\n                      {formData.selectedBase?.id === base.id && (\n                        <Check className=\"h-5 w-5 text-primary-600\" />\n                      )}\n                    </div>\n                  </button>\n                ))}\n              </div>\n            )}\n          </div>\n        );\n\n      case 2:\n        return (\n          <div>\n            <div className=\"text-center mb-8\">\n              <Table className=\"mx-auto h-12 w-12 text-primary-600 mb-4\" />\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n                Select Table\n              </h3>\n              <p className=\"text-gray-500\">\n                Choose the table where form responses will be stored\n              </p>\n            </div>\n\n            {loading ? (\n              <div className=\"flex justify-center py-8\">\n                <LoadingSpinner size=\"lg\" />\n              </div>\n            ) : (\n              <div className=\"space-y-4\">\n                {tables.map((table) => (\n                  <button\n                    key={table.id}\n                    onClick={() => handleTableSelect(table)}\n                    className={`w-full p-4 border-2 rounded-lg text-left transition-colors ${\n                      formData.selectedTable?.id === table.id\n                        ? 'border-primary-500 bg-primary-50'\n                        : 'border-gray-200 hover:border-gray-300'\n                    }`}\n                  >\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <h4 className=\"font-medium text-gray-900\">{table.name}</h4>\n                        {table.description && (\n                          <p className=\"text-sm text-gray-500 mt-1\">{table.description}</p>\n                        )}\n                        <p className=\"text-xs text-gray-400 mt-2\">\n                          {table.fields.length} fields available\n                        </p>\n                      </div>\n                      {formData.selectedTable?.id === table.id && (\n                        <Check className=\"h-5 w-5 text-primary-600\" />\n                      )}\n                    </div>\n                  </button>\n                ))}\n              </div>\n            )}\n          </div>\n        );\n\n      case 3:\n        return (\n          <div>\n            <div className=\"text-center mb-8\">\n              <Columns className=\"mx-auto h-12 w-12 text-primary-600 mb-4\" />\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n                Configure Form Fields\n              </h3>\n              <p className=\"text-gray-500\">\n                Select which fields to include in your form and customize their settings\n              </p>\n            </div>\n\n            <div className=\"space-y-4\">\n              {fields.map((field) => {\n                const isSelected = formData.selectedFields.find(f => f.id === field.id);\n                \n                return (\n                  <div\n                    key={field.id}\n                    className={`border-2 rounded-lg p-4 transition-colors ${\n                      isSelected ? 'border-primary-500 bg-primary-50' : 'border-gray-200'\n                    }`}\n                  >\n                    <div className=\"flex items-center justify-between mb-3\">\n                      <div className=\"flex items-center\">\n                        <input\n                          type=\"checkbox\"\n                          checked={!!isSelected}\n                          onChange={() => handleFieldToggle(field)}\n                          className=\"h-4 w-4 text-primary-600 rounded border-gray-300 focus:ring-primary-500\"\n                        />\n                        <div className=\"ml-3\">\n                          <h4 className=\"font-medium text-gray-900\">{field.name}</h4>\n                          <p className=\"text-sm text-gray-500\">{field.type}</p>\n                        </div>\n                      </div>\n                      <span className={`badge ${isSelected ? 'badge-primary' : 'badge-gray'}`}>\n                        {field.type}\n                      </span>\n                    </div>\n\n                    {isSelected && (\n                      <div className=\"space-y-3 pt-3 border-t border-gray-200\">\n                        <div>\n                          <label className=\"label\">\n                            Field Label\n                          </label>\n                          <input\n                            type=\"text\"\n                            className=\"input\"\n                            value={isSelected.label}\n                            onChange={(e) => handleFieldUpdate(field.id, { label: e.target.value })}\n                            placeholder=\"Enter field label\"\n                          />\n                        </div>\n                        \n                        <div className=\"flex items-center\">\n                          <input\n                            type=\"checkbox\"\n                            checked={isSelected.required}\n                            onChange={(e) => handleFieldUpdate(field.id, { required: e.target.checked })}\n                            className=\"h-4 w-4 text-primary-600 rounded border-gray-300 focus:ring-primary-500\"\n                          />\n                          <label className=\"ml-2 text-sm text-gray-700\">\n                            Required field\n                          </label>\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                );\n              })}\n            </div>\n\n            {formData.selectedFields.length === 0 && (\n              <div className=\"text-center py-8\">\n                <AlertCircle className=\"mx-auto h-8 w-8 text-gray-400 mb-2\" />\n                <p className=\"text-gray-500\">Select at least one field to continue</p>\n              </div>\n            )}\n          </div>\n        );\n\n      case 4:\n        return (\n          <div>\n            <div className=\"text-center mb-8\">\n              <Check className=\"mx-auto h-12 w-12 text-primary-600 mb-4\" />\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n                Form Settings\n              </h3>\n              <p className=\"text-gray-500\">\n                Configure your form details and behavior\n              </p>\n            </div>\n\n            <div className=\"space-y-6\">\n              <div>\n                <label className=\"label label-required\">\n                  Form Title\n                </label>\n                <input\n                  type=\"text\"\n                  className=\"input\"\n                  value={formData.title}\n                  onChange={(e) => setFormData(prev => ({ ...prev, title: e.target.value }))}\n                  placeholder=\"Enter form title\"\n                />\n              </div>\n\n              <div>\n                <label className=\"label\">\n                  Description (Optional)\n                </label>\n                <textarea\n                  className=\"textarea\"\n                  value={formData.description}\n                  onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n                  placeholder=\"Describe what this form is for...\"\n                  rows={3}\n                />\n              </div>\n\n              <div className=\"border-t border-gray-200 pt-6\">\n                <h4 className=\"text-lg font-medium text-gray-900 mb-4\">Form Behavior</h4>\n                \n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-700\">\n                        Allow Multiple Submissions\n                      </label>\n                      <p className=\"text-sm text-gray-500\">\n                        Allow users to submit the form multiple times\n                      </p>\n                    </div>\n                    <input\n                      type=\"checkbox\"\n                      checked={formData.settings.allowMultipleSubmissions}\n                      onChange={(e) => setFormData(prev => ({\n                        ...prev,\n                        settings: { ...prev.settings, allowMultipleSubmissions: e.target.checked }\n                      }))}\n                      className=\"h-4 w-4 text-primary-600 rounded border-gray-300 focus:ring-primary-500\"\n                    />\n                  </div>\n\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-700\">\n                        Show Progress Bar\n                      </label>\n                      <p className=\"text-sm text-gray-500\">\n                        Display progress indicator for multi-step forms\n                      </p>\n                    </div>\n                    <input\n                      type=\"checkbox\"\n                      checked={formData.settings.showProgressBar}\n                      onChange={(e) => setFormData(prev => ({\n                        ...prev,\n                        settings: { ...prev.settings, showProgressBar: e.target.checked }\n                      }))}\n                      className=\"h-4 w-4 text-primary-600 rounded border-gray-300 focus:ring-primary-500\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"border-t border-gray-200 pt-6\">\n                <h4 className=\"text-lg font-medium text-gray-900 mb-4\">Customization</h4>\n                \n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"label\">\n                      Submit Button Text\n                    </label>\n                    <input\n                      type=\"text\"\n                      className=\"input\"\n                      value={formData.settings.submitButtonText}\n                      onChange={(e) => setFormData(prev => ({\n                        ...prev,\n                        settings: { ...prev.settings, submitButtonText: e.target.value }\n                      }))}\n                      placeholder=\"Submit\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"label\">\n                      Success Message\n                    </label>\n                    <textarea\n                      className=\"textarea\"\n                      value={formData.settings.successMessage}\n                      onChange={(e) => setFormData(prev => ({\n                        ...prev,\n                        settings: { ...prev.settings, successMessage: e.target.value }\n                      }))}\n                      placeholder=\"Thank you for your submission!\"\n                      rows={2}\n                    />\n                  </div>\n                </div>\n              </div>\n\n              {/* Form Preview */}\n              <div className=\"border-t border-gray-200 pt-6\">\n                <h4 className=\"text-lg font-medium text-gray-900 mb-4\">Preview</h4>\n                <div className=\"bg-gray-50 rounded-lg p-4\">\n                  <h5 className=\"font-medium text-gray-900 mb-2\">{formData.title || 'Untitled Form'}</h5>\n                  {formData.description && (\n                    <p className=\"text-gray-600 mb-4\">{formData.description}</p>\n                  )}\n                  <div className=\"space-y-3\">\n                    {formData.selectedFields.slice(0, 3).map((field, index) => (\n                      <div key={field.id}>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                          {field.label}\n                          {field.required && <span className=\"text-red-500 ml-1\">*</span>}\n                        </label>\n                        <div className=\"h-8 bg-white border border-gray-300 rounded-md\"></div>\n                      </div>\n                    ))}\n                    {formData.selectedFields.length > 3 && (\n                      <p className=\"text-sm text-gray-500 italic\">\n                        ... and {formData.selectedFields.length - 3} more fields\n                      </p>\n                    )}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        );\n\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className=\"max-w-4xl mx-auto\">\n      {/* Progress Steps */}\n      <div className=\"mb-8\">\n        <nav aria-label=\"Progress\">\n          <ol className=\"flex items-center\">\n            {steps.map((step, index) => {\n              const Icon = step.icon;\n              const isCompleted = index < currentStep;\n              const isCurrent = index === currentStep;\n              \n              return (\n                <li key={step.id} className={`relative ${index !== steps.length - 1 ? 'pr-8 sm:pr-20' : ''}`}>\n                  {index !== steps.length - 1 && (\n                    <div className=\"absolute inset-0 flex items-center\" aria-hidden=\"true\">\n                      <div className={`h-0.5 w-full ${isCompleted ? 'bg-primary-600' : 'bg-gray-200'}`} />\n                    </div>\n                  )}\n                  \n                  <div className=\"relative flex items-center justify-center\">\n                    <div\n                      className={`flex h-10 w-10 items-center justify-center rounded-full border-2 ${\n                        isCompleted\n                          ? 'border-primary-600 bg-primary-600'\n                          : isCurrent\n                          ? 'border-primary-600 bg-white'\n                          : 'border-gray-300 bg-white'\n                      }`}\n                    >\n                      {isCompleted ? (\n                        <Check className=\"h-6 w-6 text-white\" />\n                      ) : (\n                        <Icon className={`h-6 w-6 ${isCurrent ? 'text-primary-600' : 'text-gray-500'}`} />\n                      )}\n                    </div>\n                  </div>\n                  \n                  <div className=\"mt-2 text-center\">\n                    <p className={`text-sm font-medium ${isCurrent ? 'text-primary-600' : 'text-gray-500'}`}>\n                      {step.title}\n                    </p>\n                  </div>\n                </li>\n              );\n            })}\n          </ol>\n        </nav>\n      </div>\n\n      {/* Step Content */}\n      <div className=\"card\">\n        <div className=\"card-body min-h-[500px]\">\n          {renderStepContent()}\n        </div>\n        \n        {/* Navigation */}\n        <div className=\"card-footer\">\n          <div className=\"flex justify-between\">\n            <button\n              onClick={() => setCurrentStep(prev => Math.max(0, prev - 1))}\n              disabled={currentStep === 0}\n              className=\"btn btn-secondary disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              <ArrowLeft className=\"h-4 w-4 mr-2\" />\n              Previous\n            </button>\n\n            {currentStep === steps.length - 1 ? (\n              <button\n                onClick={handleCreateForm}\n                disabled={!canProceed() || loading}\n                className=\"btn btn-primary disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {loading ? (\n                  <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n                ) : (\n                  <Check className=\"h-4 w-4 mr-2\" />\n                )}\n                Create Form\n              </button>\n            ) : (\n              <button\n                onClick={() => setCurrentStep(prev => prev + 1)}\n                disabled={!canProceed()}\n                className=\"btn btn-primary disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                Next\n                <ArrowRight className=\"h-4 w-4 ml-2\" />\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FormBuilder;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}