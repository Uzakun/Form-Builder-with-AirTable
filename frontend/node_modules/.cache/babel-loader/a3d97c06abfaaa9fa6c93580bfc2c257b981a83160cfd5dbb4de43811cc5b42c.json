{"ast":null,"code":"var _jsxFileName = \"/home/boltuzamaki/Downloads/airtable-form-builder/frontend/src/pages/FormViewer.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { AlertCircle, ArrowLeft, ArrowRight, CheckCircle, FileText, Upload, X } from 'lucide-react';\nimport { useEffect, useState } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { useParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport LoadingSpinner from '../components/UI/LoadingSpinner';\nimport { useForm } from '../contexts/FormContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FormViewer = ({\n  embedded = false\n}) => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const {\n    currentForm,\n    loading,\n    getForm,\n    submitResponse,\n    validateResponse\n  } = useForm();\n  const [responses, setResponses] = useState({});\n  const [files, setFiles] = useState({});\n  const [errors, setErrors] = useState({});\n  const [visibleFields, setVisibleFields] = useState([]);\n  const [currentStep, setCurrentStep] = useState(0);\n  const [submitting, setSubmitting] = useState(false);\n  const [submitted, setSubmitted] = useState(false);\n  const [startTime] = useState(Date.now());\n  useEffect(() => {\n    if (id) {\n      loadForm();\n    }\n  }, [id]);\n  useEffect(() => {\n    if (currentForm !== null && currentForm !== void 0 && currentForm.fields) {\n      updateVisibleFields();\n    }\n  }, [currentForm, responses]);\n  const loadForm = async () => {\n    try {\n      await getForm(id);\n    } catch (error) {\n      toast.error('Form not found or unavailable');\n    }\n  };\n  const updateVisibleFields = async () => {\n    if (!currentForm) return;\n    try {\n      const responseArray = Object.keys(responses).map(fieldId => ({\n        fieldId,\n        value: responses[fieldId]\n      }));\n      const validation = await validateResponse(currentForm._id, responseArray);\n      setVisibleFields(validation.visibleFields || []);\n      setErrors(validation.errors || {});\n    } catch (error) {\n      // Fallback to showing all fields if validation fails\n      setVisibleFields(currentForm.fields.map(f => ({\n        id: f.airtableFieldId,\n        label: f.label,\n        type: f.airtableFieldType,\n        required: f.required\n      })));\n    }\n  };\n  const handleInputChange = (fieldId, value) => {\n    setResponses(prev => ({\n      ...prev,\n      [fieldId]: value\n    }));\n\n    // Clear error for this field\n    if (errors[fieldId]) {\n      setErrors(prev => ({\n        ...prev,\n        [fieldId]: undefined\n      }));\n    }\n  };\n  const handleFileUpload = (fieldId, acceptedFiles) => {\n    setFiles(prev => ({\n      ...prev,\n      [fieldId]: acceptedFiles\n    }));\n\n    // Update responses to include file names\n    const fileNames = acceptedFiles.map(file => file.name).join(', ');\n    handleInputChange(fieldId, fileNames);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (submitting) return;\n    setSubmitting(true);\n    try {\n      // Prepare file uploads\n      const fileUploads = [];\n      Object.keys(files).forEach(fieldId => {\n        files[fieldId].forEach(file => {\n          fileUploads.push({\n            fieldName: fieldId,\n            file: file\n          });\n        });\n      });\n\n      // Calculate completion time\n      const timeToComplete = Math.round((Date.now() - startTime) / 1000);\n      const responseData = {\n        ...responses,\n        timeToComplete\n      };\n      const result = await submitResponse(currentForm._id, responseData, fileUploads);\n      setSubmitted(true);\n      toast.success(result.message || 'Form submitted successfully!');\n\n      // Redirect if specified\n      if (result.redirectUrl) {\n        setTimeout(() => {\n          window.location.href = result.redirectUrl;\n        }, 2000);\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Submit error:', error);\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Failed to submit form');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  const renderField = field => {\n    var _fieldConfig$options, _fieldConfig$options2;\n    const fieldConfig = currentForm.fields.find(f => f.airtableFieldId === field.id);\n    if (!fieldConfig) return null;\n    const value = responses[field.id] || '';\n    const error = errors[field.id];\n    switch (field.type) {\n      case 'singleLineText':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: `label ${field.required ? 'label-required' : ''}`,\n            children: field.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), fieldConfig.description && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"help-text\",\n            children: fieldConfig.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: `input ${error ? 'input-error' : ''}`,\n            value: value,\n            onChange: e => handleInputChange(field.id, e.target.value),\n            placeholder: fieldConfig.placeholder || `Enter ${field.label.toLowerCase()}`,\n            required: field.required\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"error-text\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 23\n          }, this)]\n        }, field.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this);\n      case 'multilineText':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: `label ${field.required ? 'label-required' : ''}`,\n            children: field.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this), fieldConfig.description && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"help-text\",\n            children: fieldConfig.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: `textarea ${error ? 'input-error' : ''}`,\n            value: value,\n            onChange: e => handleInputChange(field.id, e.target.value),\n            placeholder: fieldConfig.placeholder || `Enter ${field.label.toLowerCase()}`,\n            rows: 4,\n            required: field.required\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"error-text\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 23\n          }, this)]\n        }, field.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this);\n      case 'singleSelect':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: `label ${field.required ? 'label-required' : ''}`,\n            children: field.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this), fieldConfig.description && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"help-text\",\n            children: fieldConfig.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: `select ${error ? 'input-error' : ''}`,\n            value: value,\n            onChange: e => handleInputChange(field.id, e.target.value),\n            required: field.required,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select an option...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 15\n            }, this), (_fieldConfig$options = fieldConfig.options) === null || _fieldConfig$options === void 0 ? void 0 : _fieldConfig$options.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: option.name,\n              children: option.name\n            }, option.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"error-text\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 23\n          }, this)]\n        }, field.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this);\n      case 'multipleSelect':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: `label ${field.required ? 'label-required' : ''}`,\n            children: field.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this), fieldConfig.description && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"help-text\",\n            children: fieldConfig.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: (_fieldConfig$options2 = fieldConfig.options) === null || _fieldConfig$options2 === void 0 ? void 0 : _fieldConfig$options2.map(option => /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                className: \"h-4 w-4 text-primary-600 rounded border-gray-300 focus:ring-primary-500\",\n                checked: (value || '').split(',').includes(option.name),\n                onChange: e => {\n                  const currentValues = (value || '').split(',').filter(v => v.trim());\n                  let newValues;\n                  if (e.target.checked) {\n                    newValues = [...currentValues, option.name];\n                  } else {\n                    newValues = currentValues.filter(v => v !== option.name);\n                  }\n                  handleInputChange(field.id, newValues.join(','));\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-2 text-sm text-gray-700\",\n                children: option.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 19\n              }, this)]\n            }, option.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"error-text\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 23\n          }, this)]\n        }, field.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this);\n      case 'attachment':\n        return /*#__PURE__*/_jsxDEV(FileUploadField, {\n          field: field,\n          fieldConfig: fieldConfig,\n          files: files[field.id] || [],\n          onFilesChange: files => handleFileUpload(field.id, files),\n          error: error\n        }, field.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this);\n      default:\n        return null;\n    }\n  };\n  if (loading && !currentForm) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center bg-gray-50\",\n      children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n        size: \"lg\",\n        text: \"Loading form...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }, this);\n  }\n  if (!currentForm) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center bg-gray-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(FileText, {\n          className: \"mx-auto h-12 w-12 text-gray-400 mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-xl font-medium text-gray-900 mb-2\",\n          children: \"Form Not Found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500\",\n          children: \"This form may have been deleted or is no longer available.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }, this);\n  }\n  if (submitted) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `min-h-screen flex items-center justify-center ${embedded ? 'bg-transparent' : 'bg-gray-50'}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-md w-full text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body text-center py-12\",\n            children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n              className: \"mx-auto h-16 w-16 text-green-500 mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold text-gray-900 mb-4\",\n              children: \"Thank You!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600 mb-6\",\n              children: currentForm.settings.successMessage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 15\n            }, this), currentForm.settings.redirectUrl && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: \"Redirecting you shortly...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this);\n  }\n  const fieldsPerStep = Math.ceil(visibleFields.length / 3);\n  const totalSteps = Math.ceil(visibleFields.length / fieldsPerStep);\n  const currentStepFields = visibleFields.slice(currentStep * fieldsPerStep, (currentStep + 1) * fieldsPerStep);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `min-h-screen ${embedded ? 'bg-transparent' : 'bg-gray-50 py-8'}`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-2xl mx-auto px-4\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold text-gray-900 mb-2\",\n              children: currentForm.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 15\n            }, this), currentForm.description && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: currentForm.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 17\n            }, this), currentForm.settings.showProgressBar && totalSteps > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between text-sm text-gray-500 mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Step \", currentStep + 1, \" of \", totalSteps]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [Math.round((currentStep + 1) / totalSteps * 100), \"% Complete\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress-bar\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"progress-fill\",\n                  style: {\n                    width: `${(currentStep + 1) / totalSteps * 100}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body form-section\",\n            children: [currentStepFields.map(field => renderField(field)), currentStepFields.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-8\",\n              children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n                className: \"mx-auto h-8 w-8 text-gray-400 mb-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500\",\n                children: \"No fields to display\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-footer\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center\",\n              children: [totalSteps > 1 && currentStep > 0 ? /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setCurrentStep(prev => prev - 1),\n                className: \"btn btn-secondary\",\n                children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n                  className: \"h-4 w-4 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 21\n                }, this), \"Previous\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 19\n              }, this), currentStep === totalSteps - 1 ? /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                disabled: submitting,\n                className: \"btn btn-primary disabled:opacity-50\",\n                children: submitting ? /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n                  size: \"sm\",\n                  color: \"white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 23\n                }, this) : currentForm.settings.submitButtonText || 'Submit'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setCurrentStep(prev => prev + 1),\n                className: \"btn btn-primary\",\n                children: [\"Next\", /*#__PURE__*/_jsxDEV(ArrowRight, {\n                  className: \"h-4 w-4 ml-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 327,\n    columnNumber: 5\n  }, this);\n};\n\n// File Upload Field Component\n_s(FormViewer, \"ZeBTkdoF43S83ga2LHLKEMufkeQ=\", false, function () {\n  return [useParams, useForm];\n});\n_c = FormViewer;\nconst FileUploadField = ({\n  field,\n  fieldConfig,\n  files,\n  onFilesChange,\n  error\n}) => {\n  _s2();\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive\n  } = useDropzone({\n    onDrop: onFilesChange,\n    maxFiles: 5,\n    maxSize: 10 * 1024 * 1024,\n    // 10MB\n    accept: {\n      'image/*': ['.png', '.jpg', '.jpeg', '.gif'],\n      'application/pdf': ['.pdf'],\n      'application/msword': ['.doc'],\n      'application/vnd.openxmlformats-officedocument.wordprocessingml.document': ['.docx'],\n      'text/plain': ['.txt'],\n      'text/csv': ['.csv'],\n      'application/vnd.ms-excel': ['.xls'],\n      'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet': ['.xlsx']\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-field\",\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      className: `label ${field.required ? 'label-required' : ''}`,\n      children: field.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 7\n    }, this), fieldConfig.description && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"help-text\",\n      children: fieldConfig.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ...getRootProps(),\n      className: `border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${isDragActive ? 'border-primary-400 bg-primary-50' : error ? 'border-red-300 bg-red-50' : 'border-gray-300 hover:border-gray-400'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ...getInputProps()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Upload, {\n        className: \"mx-auto h-8 w-8 text-gray-400 mb-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 9\n      }, this), isDragActive ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-primary-600\",\n        children: \"Drop files here...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-1\",\n          children: \"Drag & drop files here, or click to select\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: \"Max 5 files, 10MB each\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 7\n    }, this), files.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-3 space-y-2\",\n      children: files.map((file, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between bg-gray-50 rounded-md p-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(FileText, {\n            className: \"h-4 w-4 text-gray-500 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-gray-700\",\n            children: file.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs text-gray-500 ml-2\",\n            children: [\"(\", (file.size / 1024 / 1024).toFixed(1), \" MB)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => {\n            const newFiles = files.filter((_, i) => i !== index);\n            onFilesChange(newFiles);\n          },\n          className: \"text-red-500 hover:text-red-700\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-text\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 496,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 435,\n    columnNumber: 5\n  }, this);\n};\n_s2(FileUploadField, \"YfI2qKQYNDOj7ozxGshQtast5Mk=\", false, function () {\n  return [useDropzone];\n});\n_c2 = FileUploadField;\nexport default FormViewer;\nvar _c, _c2;\n$RefreshReg$(_c, \"FormViewer\");\n$RefreshReg$(_c2, \"FileUploadField\");","map":{"version":3,"names":["AlertCircle","ArrowLeft","ArrowRight","CheckCircle","FileText","Upload","X","useEffect","useState","useDropzone","useParams","toast","LoadingSpinner","useForm","jsxDEV","_jsxDEV","FormViewer","embedded","_s","id","currentForm","loading","getForm","submitResponse","validateResponse","responses","setResponses","files","setFiles","errors","setErrors","visibleFields","setVisibleFields","currentStep","setCurrentStep","submitting","setSubmitting","submitted","setSubmitted","startTime","Date","now","loadForm","fields","updateVisibleFields","error","responseArray","Object","keys","map","fieldId","value","validation","_id","f","airtableFieldId","label","type","airtableFieldType","required","handleInputChange","prev","undefined","handleFileUpload","acceptedFiles","fileNames","file","name","join","handleSubmit","e","preventDefault","fileUploads","forEach","push","fieldName","timeToComplete","Math","round","responseData","result","success","message","redirectUrl","setTimeout","window","location","href","_error$response","_error$response$data","console","response","data","renderField","field","_fieldConfig$options","_fieldConfig$options2","fieldConfig","find","className","children","fileName","_jsxFileName","lineNumber","columnNumber","description","onChange","target","placeholder","toLowerCase","rows","options","option","checked","split","includes","currentValues","filter","v","trim","newValues","FileUploadField","onFilesChange","size","text","settings","successMessage","fieldsPerStep","ceil","length","totalSteps","currentStepFields","slice","onSubmit","title","showProgressBar","style","width","onClick","disabled","color","submitButtonText","_c","_s2","getRootProps","getInputProps","isDragActive","onDrop","maxFiles","maxSize","accept","index","toFixed","newFiles","_","i","_c2","$RefreshReg$"],"sources":["/home/boltuzamaki/Downloads/airtable-form-builder/frontend/src/pages/FormViewer.js"],"sourcesContent":["import {\n    AlertCircle,\n    ArrowLeft,\n    ArrowRight,\n    CheckCircle,\n    FileText,\n    Upload,\n    X\n} from 'lucide-react';\nimport { useEffect, useState } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { useParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport LoadingSpinner from '../components/UI/LoadingSpinner';\nimport { useForm } from '../contexts/FormContext';\n\nconst FormViewer = ({ embedded = false }) => {\n  const { id } = useParams();\n  const { currentForm, loading, getForm, submitResponse, validateResponse } = useForm();\n  \n  const [responses, setResponses] = useState({});\n  const [files, setFiles] = useState({});\n  const [errors, setErrors] = useState({});\n  const [visibleFields, setVisibleFields] = useState([]);\n  const [currentStep, setCurrentStep] = useState(0);\n  const [submitting, setSubmitting] = useState(false);\n  const [submitted, setSubmitted] = useState(false);\n  const [startTime] = useState(Date.now());\n\n  useEffect(() => {\n    if (id) {\n      loadForm();\n    }\n  }, [id]);\n\n  useEffect(() => {\n    if (currentForm?.fields) {\n      updateVisibleFields();\n    }\n  }, [currentForm, responses]);\n\n  const loadForm = async () => {\n    try {\n      await getForm(id);\n    } catch (error) {\n      toast.error('Form not found or unavailable');\n    }\n  };\n\n  const updateVisibleFields = async () => {\n    if (!currentForm) return;\n\n    try {\n      const responseArray = Object.keys(responses).map(fieldId => ({\n        fieldId,\n        value: responses[fieldId]\n      }));\n\n      const validation = await validateResponse(currentForm._id, responseArray);\n      setVisibleFields(validation.visibleFields || []);\n      setErrors(validation.errors || {});\n    } catch (error) {\n      // Fallback to showing all fields if validation fails\n      setVisibleFields(currentForm.fields.map(f => ({\n        id: f.airtableFieldId,\n        label: f.label,\n        type: f.airtableFieldType,\n        required: f.required\n      })));\n    }\n  };\n\n  const handleInputChange = (fieldId, value) => {\n    setResponses(prev => ({\n      ...prev,\n      [fieldId]: value\n    }));\n    \n    // Clear error for this field\n    if (errors[fieldId]) {\n      setErrors(prev => ({\n        ...prev,\n        [fieldId]: undefined\n      }));\n    }\n  };\n\n  const handleFileUpload = (fieldId, acceptedFiles) => {\n    setFiles(prev => ({\n      ...prev,\n      [fieldId]: acceptedFiles\n    }));\n    \n    // Update responses to include file names\n    const fileNames = acceptedFiles.map(file => file.name).join(', ');\n    handleInputChange(fieldId, fileNames);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (submitting) return;\n    \n    setSubmitting(true);\n    \n    try {\n      // Prepare file uploads\n      const fileUploads = [];\n      Object.keys(files).forEach(fieldId => {\n        files[fieldId].forEach(file => {\n          fileUploads.push({\n            fieldName: fieldId,\n            file: file\n          });\n        });\n      });\n\n      // Calculate completion time\n      const timeToComplete = Math.round((Date.now() - startTime) / 1000);\n      \n      const responseData = {\n        ...responses,\n        timeToComplete\n      };\n\n      const result = await submitResponse(currentForm._id, responseData, fileUploads);\n      \n      setSubmitted(true);\n      toast.success(result.message || 'Form submitted successfully!');\n      \n      // Redirect if specified\n      if (result.redirectUrl) {\n        setTimeout(() => {\n          window.location.href = result.redirectUrl;\n        }, 2000);\n      }\n      \n    } catch (error) {\n      console.error('Submit error:', error);\n      toast.error(error.response?.data?.message || 'Failed to submit form');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const renderField = (field) => {\n    const fieldConfig = currentForm.fields.find(f => f.airtableFieldId === field.id);\n    if (!fieldConfig) return null;\n\n    const value = responses[field.id] || '';\n    const error = errors[field.id];\n\n    switch (field.type) {\n      case 'singleLineText':\n        return (\n          <div key={field.id} className=\"form-field\">\n            <label className={`label ${field.required ? 'label-required' : ''}`}>\n              {field.label}\n            </label>\n            {fieldConfig.description && (\n              <p className=\"help-text\">{fieldConfig.description}</p>\n            )}\n            <input\n              type=\"text\"\n              className={`input ${error ? 'input-error' : ''}`}\n              value={value}\n              onChange={(e) => handleInputChange(field.id, e.target.value)}\n              placeholder={fieldConfig.placeholder || `Enter ${field.label.toLowerCase()}`}\n              required={field.required}\n            />\n            {error && <p className=\"error-text\">{error}</p>}\n          </div>\n        );\n\n      case 'multilineText':\n        return (\n          <div key={field.id} className=\"form-field\">\n            <label className={`label ${field.required ? 'label-required' : ''}`}>\n              {field.label}\n            </label>\n            {fieldConfig.description && (\n              <p className=\"help-text\">{fieldConfig.description}</p>\n            )}\n            <textarea\n              className={`textarea ${error ? 'input-error' : ''}`}\n              value={value}\n              onChange={(e) => handleInputChange(field.id, e.target.value)}\n              placeholder={fieldConfig.placeholder || `Enter ${field.label.toLowerCase()}`}\n              rows={4}\n              required={field.required}\n            />\n            {error && <p className=\"error-text\">{error}</p>}\n          </div>\n        );\n\n      case 'singleSelect':\n        return (\n          <div key={field.id} className=\"form-field\">\n            <label className={`label ${field.required ? 'label-required' : ''}`}>\n              {field.label}\n            </label>\n            {fieldConfig.description && (\n              <p className=\"help-text\">{fieldConfig.description}</p>\n            )}\n            <select\n              className={`select ${error ? 'input-error' : ''}`}\n              value={value}\n              onChange={(e) => handleInputChange(field.id, e.target.value)}\n              required={field.required}\n            >\n              <option value=\"\">Select an option...</option>\n              {fieldConfig.options?.map((option) => (\n                <option key={option.id} value={option.name}>\n                  {option.name}\n                </option>\n              ))}\n            </select>\n            {error && <p className=\"error-text\">{error}</p>}\n          </div>\n        );\n\n      case 'multipleSelect':\n        return (\n          <div key={field.id} className=\"form-field\">\n            <label className={`label ${field.required ? 'label-required' : ''}`}>\n              {field.label}\n            </label>\n            {fieldConfig.description && (\n              <p className=\"help-text\">{fieldConfig.description}</p>\n            )}\n            <div className=\"space-y-2\">\n              {fieldConfig.options?.map((option) => (\n                <label key={option.id} className=\"flex items-center\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"h-4 w-4 text-primary-600 rounded border-gray-300 focus:ring-primary-500\"\n                    checked={(value || '').split(',').includes(option.name)}\n                    onChange={(e) => {\n                      const currentValues = (value || '').split(',').filter(v => v.trim());\n                      let newValues;\n                      \n                      if (e.target.checked) {\n                        newValues = [...currentValues, option.name];\n                      } else {\n                        newValues = currentValues.filter(v => v !== option.name);\n                      }\n                      \n                      handleInputChange(field.id, newValues.join(','));\n                    }}\n                  />\n                  <span className=\"ml-2 text-sm text-gray-700\">{option.name}</span>\n                </label>\n              ))}\n            </div>\n            {error && <p className=\"error-text\">{error}</p>}\n          </div>\n        );\n\n      case 'attachment':\n        return (\n          <FileUploadField\n            key={field.id}\n            field={field}\n            fieldConfig={fieldConfig}\n            files={files[field.id] || []}\n            onFilesChange={(files) => handleFileUpload(field.id, files)}\n            error={error}\n          />\n        );\n\n      default:\n        return null;\n    }\n  };\n\n  if (loading && !currentForm) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <LoadingSpinner size=\"lg\" text=\"Loading form...\" />\n      </div>\n    );\n  }\n\n  if (!currentForm) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <FileText className=\"mx-auto h-12 w-12 text-gray-400 mb-4\" />\n          <h1 className=\"text-xl font-medium text-gray-900 mb-2\">Form Not Found</h1>\n          <p className=\"text-gray-500\">This form may have been deleted or is no longer available.</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (submitted) {\n    return (\n      <div className={`min-h-screen flex items-center justify-center ${embedded ? 'bg-transparent' : 'bg-gray-50'}`}>\n        <div className=\"max-w-md w-full text-center\">\n          <div className=\"card\">\n            <div className=\"card-body text-center py-12\">\n              <CheckCircle className=\"mx-auto h-16 w-16 text-green-500 mb-4\" />\n              <h1 className=\"text-2xl font-bold text-gray-900 mb-4\">Thank You!</h1>\n              <p className=\"text-gray-600 mb-6\">\n                {currentForm.settings.successMessage}\n              </p>\n              {currentForm.settings.redirectUrl && (\n                <p className=\"text-sm text-gray-500\">\n                  Redirecting you shortly...\n                </p>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  const fieldsPerStep = Math.ceil(visibleFields.length / 3);\n  const totalSteps = Math.ceil(visibleFields.length / fieldsPerStep);\n  const currentStepFields = visibleFields.slice(\n    currentStep * fieldsPerStep,\n    (currentStep + 1) * fieldsPerStep\n  );\n\n  return (\n    <div className={`min-h-screen ${embedded ? 'bg-transparent' : 'bg-gray-50 py-8'}`}>\n      <div className=\"max-w-2xl mx-auto px-4\">\n        <form onSubmit={handleSubmit}>\n          <div className=\"card\">\n            {/* Form Header */}\n            <div className=\"card-header text-center\">\n              <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">\n                {currentForm.title}\n              </h1>\n              {currentForm.description && (\n                <p className=\"text-gray-600\">{currentForm.description}</p>\n              )}\n              \n              {/* Progress Bar */}\n              {currentForm.settings.showProgressBar && totalSteps > 1 && (\n                <div className=\"mt-6\">\n                  <div className=\"flex justify-between text-sm text-gray-500 mb-2\">\n                    <span>Step {currentStep + 1} of {totalSteps}</span>\n                    <span>{Math.round(((currentStep + 1) / totalSteps) * 100)}% Complete</span>\n                  </div>\n                  <div className=\"progress-bar\">\n                    <div \n                      className=\"progress-fill\"\n                      style={{ width: `${((currentStep + 1) / totalSteps) * 100}%` }}\n                    />\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* Form Fields */}\n            <div className=\"card-body form-section\">\n              {currentStepFields.map(field => renderField(field))}\n              \n              {currentStepFields.length === 0 && (\n                <div className=\"text-center py-8\">\n                  <AlertCircle className=\"mx-auto h-8 w-8 text-gray-400 mb-2\" />\n                  <p className=\"text-gray-500\">No fields to display</p>\n                </div>\n              )}\n            </div>\n\n            {/* Form Navigation */}\n            <div className=\"card-footer\">\n              <div className=\"flex justify-between items-center\">\n                {totalSteps > 1 && currentStep > 0 ? (\n                  <button\n                    type=\"button\"\n                    onClick={() => setCurrentStep(prev => prev - 1)}\n                    className=\"btn btn-secondary\"\n                  >\n                    <ArrowLeft className=\"h-4 w-4 mr-2\" />\n                    Previous\n                  </button>\n                ) : (\n                  <div />\n                )}\n\n                {currentStep === totalSteps - 1 ? (\n                  <button\n                    type=\"submit\"\n                    disabled={submitting}\n                    className=\"btn btn-primary disabled:opacity-50\"\n                  >\n                    {submitting ? (\n                      <LoadingSpinner size=\"sm\" color=\"white\" />\n                    ) : (\n                      currentForm.settings.submitButtonText || 'Submit'\n                    )}\n                  </button>\n                ) : (\n                  <button\n                    type=\"button\"\n                    onClick={() => setCurrentStep(prev => prev + 1)}\n                    className=\"btn btn-primary\"\n                  >\n                    Next\n                    <ArrowRight className=\"h-4 w-4 ml-2\" />\n                  </button>\n                )}\n              </div>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\n// File Upload Field Component\nconst FileUploadField = ({ field, fieldConfig, files, onFilesChange, error }) => {\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    onDrop: onFilesChange,\n    maxFiles: 5,\n    maxSize: 10 * 1024 * 1024, // 10MB\n    accept: {\n      'image/*': ['.png', '.jpg', '.jpeg', '.gif'],\n      'application/pdf': ['.pdf'],\n      'application/msword': ['.doc'],\n      'application/vnd.openxmlformats-officedocument.wordprocessingml.document': ['.docx'],\n      'text/plain': ['.txt'],\n      'text/csv': ['.csv'],\n      'application/vnd.ms-excel': ['.xls'],\n      'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet': ['.xlsx']\n    }\n  });\n\n  return (\n    <div className=\"form-field\">\n      <label className={`label ${field.required ? 'label-required' : ''}`}>\n        {field.label}\n      </label>\n      {fieldConfig.description && (\n        <p className=\"help-text\">{fieldConfig.description}</p>\n      )}\n      \n      <div\n        {...getRootProps()}\n        className={`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${\n          isDragActive \n            ? 'border-primary-400 bg-primary-50' \n            : error\n            ? 'border-red-300 bg-red-50'\n            : 'border-gray-300 hover:border-gray-400'\n        }`}\n      >\n        <input {...getInputProps()} />\n        <Upload className=\"mx-auto h-8 w-8 text-gray-400 mb-2\" />\n        {isDragActive ? (\n          <p className=\"text-primary-600\">Drop files here...</p>\n        ) : (\n          <div>\n            <p className=\"text-gray-600 mb-1\">\n              Drag & drop files here, or click to select\n            </p>\n            <p className=\"text-sm text-gray-500\">\n              Max 5 files, 10MB each\n            </p>\n          </div>\n        )}\n      </div>\n\n      {/* File List */}\n      {files.length > 0 && (\n        <div className=\"mt-3 space-y-2\">\n          {files.map((file, index) => (\n            <div key={index} className=\"flex items-center justify-between bg-gray-50 rounded-md p-2\">\n              <div className=\"flex items-center\">\n                <FileText className=\"h-4 w-4 text-gray-500 mr-2\" />\n                <span className=\"text-sm text-gray-700\">{file.name}</span>\n                <span className=\"text-xs text-gray-500 ml-2\">\n                  ({(file.size / 1024 / 1024).toFixed(1)} MB)\n                </span>\n              </div>\n              <button\n                type=\"button\"\n                onClick={() => {\n                  const newFiles = files.filter((_, i) => i !== index);\n                  onFilesChange(newFiles);\n                }}\n                className=\"text-red-500 hover:text-red-700\"\n              >\n                <X className=\"h-4 w-4\" />\n              </button>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {error && <p className=\"error-text\">{error}</p>}\n    </div>\n  );\n};\n\nexport default FormViewer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}