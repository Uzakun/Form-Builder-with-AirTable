{"ast":null,"code":"var _jsxFileName = \"/home/boltuzamaki/Downloads/airtable-form-builder/frontend/src/pages/AuthCallback.js\",\n  _s = $RefreshSig$();\nimport { CheckCircle, XCircle } from 'lucide-react';\nimport { useEffect, useState } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport LoadingSpinner from '../components/UI/LoadingSpinner';\nimport { useAuth } from '../contexts/AuthContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AuthCallback = () => {\n  _s();\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  const {\n    handleAuthCallback\n  } = useAuth();\n  const [status, setStatus] = useState('processing'); // processing, success, error\n\n  useEffect(() => {\n    const processCallback = async () => {\n      const token = searchParams.get('token');\n      const error = searchParams.get('error');\n      if (error) {\n        setStatus('error');\n        setTimeout(() => {\n          navigate('/');\n        }, 3000);\n        return;\n      }\n      if (!token) {\n        setStatus('error');\n        setTimeout(() => {\n          navigate('/');\n        }, 3000);\n        return;\n      }\n      try {\n        const success = await handleAuthCallback(token);\n        if (success) {\n          setStatus('success');\n          setTimeout(() => {\n            navigate('/dashboard');\n          }, 2000);\n        } else {\n          setStatus('error');\n          setTimeout(() => {\n            navigate('/');\n          }, 3000);\n        }\n      } catch (error) {\n        console.error('Auth callback error:', error);\n        setStatus('error');\n        setTimeout(() => {\n          navigate('/');\n        }, 3000);\n      }\n    };\n    processCallback();\n  }, [searchParams, handleAuthCallback, navigate]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-md w-full text-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body py-12\",\n          children: [status === 'processing' && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(LoadingSpinner, {\n              size: \"lg\",\n              className: \"mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-xl font-medium text-gray-900 mb-2\",\n              children: \"Completing Sign In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500\",\n              children: \"Processing your Airtable authentication...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), status === 'success' && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n              className: \"mx-auto h-16 w-16 text-green-500 mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-xl font-medium text-gray-900 mb-2\",\n              children: \"Welcome to FormBuilder!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 mb-4\",\n              children: \"You've successfully connected your Airtable account.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-400\",\n              children: \"Redirecting to your dashboard...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), status === 'error' && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(XCircle, {\n              className: \"mx-auto h-16 w-16 text-red-500 mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-xl font-medium text-gray-900 mb-2\",\n              children: \"Authentication Failed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 mb-4\",\n              children: \"We couldn't complete your sign in. Please try again.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-400\",\n              children: \"Redirecting back to home page...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(AuthCallback, \"TEPFJiHzpFFfgU2FZ9LR79EqX5w=\", false, function () {\n  return [useNavigate, useSearchParams, useAuth];\n});\n_c = AuthCallback;\nexport default AuthCallback;\nvar _c;\n$RefreshReg$(_c, \"AuthCallback\");","map":{"version":3,"names":["CheckCircle","XCircle","useEffect","useState","useNavigate","useSearchParams","LoadingSpinner","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","AuthCallback","_s","navigate","searchParams","handleAuthCallback","status","setStatus","processCallback","token","get","error","setTimeout","success","console","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/boltuzamaki/Downloads/airtable-form-builder/frontend/src/pages/AuthCallback.js"],"sourcesContent":["import { CheckCircle, XCircle } from 'lucide-react';\nimport { useEffect, useState } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport LoadingSpinner from '../components/UI/LoadingSpinner';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst AuthCallback = () => {\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  const { handleAuthCallback } = useAuth();\n  const [status, setStatus] = useState('processing'); // processing, success, error\n\n  useEffect(() => {\n    const processCallback = async () => {\n      const token = searchParams.get('token');\n      const error = searchParams.get('error');\n\n      if (error) {\n        setStatus('error');\n        setTimeout(() => {\n          navigate('/');\n        }, 3000);\n        return;\n      }\n\n      if (!token) {\n        setStatus('error');\n        setTimeout(() => {\n          navigate('/');\n        }, 3000);\n        return;\n      }\n\n      try {\n        const success = await handleAuthCallback(token);\n        if (success) {\n          setStatus('success');\n          setTimeout(() => {\n            navigate('/dashboard');\n          }, 2000);\n        } else {\n          setStatus('error');\n          setTimeout(() => {\n            navigate('/');\n          }, 3000);\n        }\n      } catch (error) {\n        console.error('Auth callback error:', error);\n        setStatus('error');\n        setTimeout(() => {\n          navigate('/');\n        }, 3000);\n      }\n    };\n\n    processCallback();\n  }, [searchParams, handleAuthCallback, navigate]);\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n      <div className=\"max-w-md w-full text-center\">\n        <div className=\"card\">\n          <div className=\"card-body py-12\">\n            {status === 'processing' && (\n              <>\n                <LoadingSpinner size=\"lg\" className=\"mb-4\" />\n                <h1 className=\"text-xl font-medium text-gray-900 mb-2\">\n                  Completing Sign In\n                </h1>\n                <p className=\"text-gray-500\">\n                  Processing your Airtable authentication...\n                </p>\n              </>\n            )}\n\n            {status === 'success' && (\n              <>\n                <CheckCircle className=\"mx-auto h-16 w-16 text-green-500 mb-4\" />\n                <h1 className=\"text-xl font-medium text-gray-900 mb-2\">\n                  Welcome to FormBuilder!\n                </h1>\n                <p className=\"text-gray-500 mb-4\">\n                  You've successfully connected your Airtable account.\n                </p>\n                <p className=\"text-sm text-gray-400\">\n                  Redirecting to your dashboard...\n                </p>\n              </>\n            )}\n\n            {status === 'error' && (\n              <>\n                <XCircle className=\"mx-auto h-16 w-16 text-red-500 mb-4\" />\n                <h1 className=\"text-xl font-medium text-gray-900 mb-2\">\n                  Authentication Failed\n                </h1>\n                <p className=\"text-gray-500 mb-4\">\n                  We couldn't complete your sign in. Please try again.\n                </p>\n                <p className=\"text-sm text-gray-400\">\n                  Redirecting back to home page...\n                </p>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AuthCallback;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}